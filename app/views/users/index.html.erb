<%= render partial: 'shared/partials/navbar' %>
<section id="admin-page">
	<div id="navbar-popover">
		<button>Profile</button>
		<button><a id="logout" href="/users/logout"></a>Logout</button>
	</div>
	<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#user-registration-modal">
		Launch
	</button>
	<table id="users-table">
		<thead>
			<tr>
				<th>ID</th>
				<th>Email</th>
				<th>Last Name</th>
				<th>First Name</th>
				<th>Role</th>
				<th>Created at</th>
				<th>Updated at</th>
				<th>Status</th>
				<th id="delete_column"></th>
			</tr>
		</thead>
		<tbody>
			<% @user.each do |user| %>
				<tr>
					<td>
						<%= user.id %>
					</td>
					<td>
						<%= user.email %>
					</td>
					<td>
						<%= user.last_name %>
					</td>
					<td>
						<%= user.first_name %>
					</td>
					<td>
						<%= @roles[user.role_id] %>
					</td>
					<td>
						<%= user.created_at.strftime("%m/%d/%Y %I:%M%p") %>
					</td>
					<td>
						<%= user.updated_at.strftime("%m/%d/%Y %I:%M%p") %>
					</td>
					<td>
						<%= user.status %>
					</td>
					<td id="delete_icon">
						<form class="action_buttons" action="/users/edit/<%= user.id %>" method="post">
							<input type="hidden" name="authenticity_token" value="<%=form_authenticity_token%>">
							<button type="submit" id="edit"><i class="fa-solid fa-pen"></i></button>
						</form>
						<form class="action_buttons" action="/users/destroy" method="post">
							<input type="hidden" name="authenticity_token" value="<%=form_authenticity_token%>">
							<input type="hidden" name="_method" value="delete">
							<input type="hidden" name="id" value="<%= user.id %>">
							<button type="submit" id="delete"><i class="fa-solid fa-trash" style="color: #ff0000;"></i></button>
						</form>
					</td>
				</tr>
				<% end %>
		</tbody>
	</table>
	<%= render partial: 'shared/partials/user_registration' %>
</section>